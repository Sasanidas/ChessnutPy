<!DOCTYPE html>
<html>
<head>
<!-- HTML Codes by Quackit.com -->
<title>
</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {background-color:#ffffff;background-repeat:no-repeat;background-position:top left;background-attachment:fixed;}
h1{font-family:Arial, sans-serif;letter-spacing:20px;color:#000000;background-color:#ffffff;}
p {font-family:Georgia, serif;font-size:14px;font-style:normal;font-weight:normal;color:#000000;background-color:#ffffff;}
</style>
    <script>
        const myVar2 = setInterval(get_current_opening, 500);
        async function get_current_opening() {
            const opening_response = await fetch('opening');
            const move_stack_response = await fetch('move_stack')
            const last_score_response = await fetch('last_score')
            let data = await opening_response.json();
            document.getElementById('opening').innerHTML = "Current Opening: " + data;
            data = await move_stack_response.text();
            document.getElementById('move_stack').innerHTML = "" + data;
            document.getElementById('boardImage').src = 'board.svg?time='+new Date().getTime()
            data = await last_score_response.json();
            document.getElementById('last_score').innerHTML = 'Last calculated score: '+ (data ? data : "never calculated")
        }
        get_current_opening()
    </script>
</head>
<body>
<h1>ChessComputer</h1>
<p>Board:</p>
<img id="boardImage" alt="Current Gameboard" src="board.svg"/>
<p id="opening">Current Opening: CUR_OPENING</p>
<p>Current Move Stack:</p>
<p id="move_stack">CUR_MOVE_STACK</p>
<p id="last_score">Last calculated score: never calculated</p>
<form action="/read_board" method="post">
    <button name="radBoard" value="read_board">Read Board</button>
</form>
</body>
</html>